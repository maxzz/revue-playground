import{d as e,r as t,a as n,c as o,b as r,e as s,o as a,f as l,g as c,h as i,i as u,w as d,t as m,p,u as f,j as v,k as x,F as g,l as h,m as b,n as T,q as y,V as E,P as w}from"./vendor.cec3e4e8.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,s)=>{const a=new URL(e,o);if(self[t].moduleMap[a])return n(self[t].moduleMap[a]);const l=new Blob([`import * as m from '${a}';`,`${t}.moduleMap['${a}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){s(new Error(`Failed to import: ${e}`)),r(c)},onload(){n(self[t].moduleMap[a]),r(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");var C=e({props:{onResize:{type:Function}},setup(e){const o=t(0),r=t(),s=n({});return{container:r,styleA:s,onMouseDown:function(t){t.preventDefault();const n=r.value,a=n.offsetLeft,l=n.offsetWidth;function c(e){e.preventDefault();let t=(e.pageX-a)/l*100;!function(e){o.value=e;const t="Width";s[`min${t}`]=s[`max${t}`]=o.value+"%"}(Math.min(Math.max(0,t),99))}document.body.style.cursor="col-resize",document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function t(){document.body.style.cursor="",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),e.onResize&&e.onResize()}))}}}});const R={ref:"container",class:"splitpane"},L=l("a"),M={class:"splitpane-content"},k=l("b");C.render=function(e,t,n,l,c,i){return a(),o("div",R,[r("div",{class:"splitpane-content",style:e.styleA},[s(e.$slots,"a",{},(()=>[L]))],4),r("div",{class:"splitpane-divider",onMousedown:t[1]||(t[1]=(...t)=>e.onMouseDown&&e.onMouseDown(...t))},null,32),r("div",M,[s(e.$slots,"b",{},(()=>[k]))])],512)};const $={};function S(e){return e()}var j=e({props:{editText:{type:String,default:""},onTextChange:{type:Function}},setup(e,o){const r=t();let s;const a=t(e.editText),l=n({ln:0,col:0}),m=[];function p(e,t){t?s.addLineClass(e-1,"text","errorMarker"):s.removeLineClass(e-1,"text","errorMarker")}let f,v;function x(){clearTimeout(f),f=setTimeout((()=>{let t=s.getValue();e.onTextChange&&e.onTextChange(t)}),200)}function g(){clearTimeout(v),v=setTimeout((()=>{let e=s.getCursor();s.getDoc().indexFromPos(e),l.ln=e.line+1,l.col=e.ch+1}),100)}return c((()=>{s=i(r.value,{value:a.value,mode:"javascript",lineNumbers:!0}),s.on("change",x),s.on("cursorActivity",g),m.push(function(e,t){let n=$[e];return n||(n=$[e]=[]),-1===n.indexOf(t)&&n.push(t),()=>n.splice(n.indexOf(t),1)}("PANEL_RESIZE",(()=>s.refresh())))})),u((()=>{clearTimeout(f),clearTimeout(v),s.off("change",x),s.off("cursorActivity",g),m.forEach(S)})),d((()=>e.editText),(()=>{a.value=e.editText,s.setValue(a.value)})),{elEditor:r,editorPos:l,onTestRemoveErrorClick:function(){p(l.ln,!1)},onTestAddErrorClick:function(){p(l.ln,!0)}}}});const z={class:"flex flex-col min-w-0 min-h-0"},A={ref:"elEditor",class:"flex flex-1 min-w-0 min-h-0"},P={class:"flex justify-end items-center bg-gray-200 py-1"},_={class:"mx-2 text-xs flex-1"};j.render=function(e,t,n,s,l,c){return a(),o("div",z,[r("div",A,null,512),r("div",P,[r("span",_,"Ln: "+m(e.editorPos.ln)+" Col: "+m(e.editorPos.col),1),r("input",{class:"px-1 border-1 w-8 mr-1",type:"button",value:"-",onClick:t[1]||(t[1]=(...t)=>e.onTestRemoveErrorClick&&e.onTestRemoveErrorClick(...t))}),r("input",{class:"px-1 border-1 w-8 mr-1",type:"button",value:"+",onClick:t[2]||(t[2]=(...t)=>e.onTestAddErrorClick&&e.onTestAddErrorClick(...t))})])])};let O="function name(params) {\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var b: number = 5;\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var a = {...[1,2]};\n    var b: number = 5;\n}\n";var B=e({props:{},components:{Editor:j,SplitPane:C},setup:()=>{f();const e=t("");return{onBtnStart:function(){!function(){let e;try{e=p(O,{ecmaVersion:"latest"})}catch(t){console.log("parse error",t.message);const{line:e,col:n}=function(e){let t=/\((\d+):(\d+)\)$/.exec(e);return t?{line:+t[1],col:+t[2]}:{line:0,col:0}}(t.message);console.log(`trace:\n${function(e,t,n){let o=O.split(/\r?\n/g),r=t-15<0?0:t-15,s=t+15>o.length-1?o.length-1:t+15;if(r===s)return"";let a=[];for(let l=r;l<=s;l++)a.push(`${`${l+1}`.padStart(4,"0")}: ${o[l]}`),l+1===t&&a.push(`${" ".repeat(n+6)}^`);return a.join("\r\n")}(0,e,n)}`)}e&&console.log("ast",JSON.stringify(e,null,4))}()},onSplitterResize:function(){var e,t;$[e="PANEL_RESIZE"]&&setTimeout((function(){if($[e]){const o=$[e];for(var n=0;n<o.length;n++)o[n](t)}}),0)},onTextChange:function(t){e.value=t},defaultCode:O,secondEditText:e}}});const D={class:"flex flex-1 px-4 mb-4"},F={class:"flex justify-center mb-4"};B.render=function(e,t,n,s,l,c){const i=v("Editor"),u=v("SplitPane");return a(),o(g,null,[r("div",D,[r(u,{onResize:e.onSplitterResize},{a:x((()=>[r(i,{class:"flex-1 border border-gray-200",editText:e.defaultCode,onTextChange:e.onTextChange},null,8,["editText","onTextChange"])])),b:x((()=>[r(i,{class:"flex-1 border border-green-200","edit-text":e.secondEditText},null,8,["edit-text"])])),_:1},8,["onResize"])]),r("div",F,[r("input",{type:"button",value:"Start Test",onClick:t[1]||(t[1]=(...t)=>e.onBtnStart&&e.onBtnStart(...t)),class:"btn important:focus:ring-0"})])],64)};const U={},H=T("data-v-549ac02a");h("data-v-549ac02a");const V={class:"mx-4 py-2 flex justify-between items-center opacity-80 bg-gradient-to-r from-green-100 to-green-300"},I=r("span",{class:"pl-1 text-black font-bold text-xl"},"ReVue",-1),N=r("svg",{class:"mr-1 w-12 h-7",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 215 128"},[r("path",{class:"logo-decomp-a",d:"M87 0h128v128H87z"}),r("circle",{class:"logo-decomp-circle",cx:"64",cy:"64",r:"64"}),r("path",{class:"logo-decomp-arrow",d:"M157 64L87 1v126l70-63z"}),r("path",{class:"logo-decomp-arrow",d:"M45 44h89v40H45z"})],-1);b();const W=H(((e,t)=>(a(),o("div",V,[I,N]))));U.render=W,U.__scopeId="data-v-549ac02a";var Z=e({name:"App",components:{Header:U,Editors:B}});Z.render=function(e,t,n,s,l,c){const i=v("Header"),u=v("Editors");return a(),o(g,null,[r(i),r(u)],64)};const q=y(Z);q.use(E,{position:w.BOTTOM_RIGHT,timeout:5e3,transition:{enter:"tm-fade-enter-active",move:"tm-fade-move"}}),q.mount("#app");
